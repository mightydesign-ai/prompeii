<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Prompeii Admin Console — Create Prompt</title>
  <link rel="stylesheet" href="admin-edit.css" />
</head>

<body class="admin-body">
  <!-- Header -->
  <header class="admin-header">
    <div>
      <h1>Prompeii Admin Console</h1>
      <p class="admin-subtitle">Add a new curated prompt to your catalog.</p>
    </div>

    <div class="admin-actions">
      <a href="admin.html" class="btn btn-ghost">&larr; Back to Prompt List</a>
    </div>
  </header>

  <!-- Toast -->
  <div id="toast" class="toast" role="status"></div>

  <!-- Main -->
  <main class="admin-main">
    <section class="panel panel-edit">
      <header class="panel-header">
        <div>
          <h2>Create New Prompt</h2>
          <p class="panel-subtitle">Define metadata and write your prompt.</p>
        </div>
        <div class="panel-actions">
          <a href="admin.html" class="btn btn-secondary">Cancel</a>
          <button id="btnCreate" class="btn btn-primary">
            Create Prompt
          </button>
        </div>
      </header>

      <form id="createPromptForm" class="edit-form" novalidate>
        <div class="edit-layout">

          <!-- LEFT COLUMN -->
          <div class="edit-column">

            <!-- General Metadata -->
            <section class="form-section">
              <h3 class="section-title">General Metadata</h3>
              <p class="section-description">
                Core details used to organize and surface the prompt.
              </p>

              <div class="field-group">
                <label for="smartTitleHuman" class="field-label">
                  Smart Title <span class="required">*</span>
                </label>
                <input
                  id="smartTitleHuman"
                  class="input"
                  required
                  placeholder="e.g. Make ChatGPT sound naturally human" />
                <p class="field-error" data-error-for="smartTitleHuman"></p>
              </div>

              <div class="field-grid field-grid-2">
                <div class="field-group">
                  <label class="field-label">Category *</label>
                  <select id="category" class="input" required>
                    <option value="">Select a category</option>
                    <option value="Writing">Writing</option>
                    <option value="Coding">Coding</option>
                    <option value="Design">Design</option>
                    <option value="Marketing">Marketing</option>
                    <option value="Productivity">Productivity</option>
                    <option value="Education">Education</option>
                    <option value="Research">Research</option>
                    <option value="Other">Other</option>
                  </select>
                  <p class="field-error" data-error-for="category"></p>
                </div>

                <div class="field-group">
                  <label class="field-label">Status *</label>
                  <select id="status" class="input">
                    <option value="draft">Draft</option>
                    <option value="published">Published</option>
                    <option value="archived">Archived</option>
                  </select>
                </div>
              </div>

              <div class="field-group">
                <label class="field-label">Tags</label>
                <input
                  id="tags"
                  class="input"
                  placeholder="email, tone, outreach" />
                <p class="field-hint">Comma-separated. Saved as a text[] array.</p>
              </div>

              <div class="field-grid field-grid-2">
                <div class="field-group">
                  <label class="field-label">Tone</label>
                  <select id="tone" class="input">
                    <option value="">—</option>
                    <option value="casual">Casual</option>
                    <option value="professional">Professional</option>
                    <option value="playful">Playful</option>
                    <option value="formal">Formal</option>
                    <option value="technical">Technical</option>
                  </select>
                </div>

                <div class="field-group">
                  <label class="field-label">Use Case</label>
                  <select id="useCase" class="input">
                    <option value="">—</option>
                    <option value="copywriting">Copywriting</option>
                    <option value="ideation">Ideation</option>
                    <option value="analysis">Analysis</option>
                    <option value="brainstorming">Brainstorming</option>
                    <option value="research">Research</option>
                    <option value="coding">Coding</option>
                  </select>
                </div>
              </div>

              <div class="field-grid field-grid-2">
                <div class="field-group">
                  <label class="field-label">Skill Level</label>
                  <select id="skillLevel" class="input">
                    <option value="">—</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                  </select>
                </div>

                <div class="field-group">
                  <label class="field-label">Model</label>
                  <input id="model" class="input" placeholder="gpt-5.1, claude-3.5" />
                </div>
              </div>
            </section>

            <!-- Quality -->
            <section class="form-section">
              <h3 class="section-title">Quality Scoring</h3>
              <div class="field-grid field-grid-3">
                <div class="field-group">
                  <label class="field-label">Clarity</label>
                  <input id="clarity" type="number" min="1" max="5" class="input" />
                </div>

                <div class="field-group">
                  <label class="field-label">Creativity</label>
                  <input id="creativity" type="number" min="1" max="5" class="input" />
                </div>

                <div class="field-group">
                  <label class="field-label">Usefulness</label>
                  <input id="usefulness" type="number" min="1" max="5" class="input" />
                </div>
              </div>

              <div class="field-group">
                <label class="field-label">Quality Score (avg)</label>
                <input id="qualityScore" class="input" readonly />
                <p class="field-hint">Auto-calculated from clarity, creativity, and usefulness.</p>
              </div>
            </section>

          </div>

          <!-- RIGHT COLUMN -->
          <div class="edit-column">
            <!-- Prompt Content -->
            <section class="form-section">
              <h3 class="section-title">Prompt Content</h3>

              <div class="field-group">
                <label class="field-label">Intro *</label>
                <textarea id="intro" rows="4" class="input textarea" required></textarea>
                <p class="field-error" data-error-for="intro"></p>
              </div>

              <div class="field-group">
                <label class="field-label">Prompt *</label>
                <textarea id="prompt" rows="14" class="input textarea textarea-code" required></textarea>
                <p class="field-error" data-error-for="prompt"></p>
              </div>

              <div class="readonly-card">
                <div class="meta-row">
                  <span class="meta-label">Detected Variables</span>
                  <span id="detectedVariables">—</span>
                </div>
                <div class="meta-row">
                  <span class="meta-label">Estimated Tokens</span>
                  <span id="estimatedTokens">—</span>
                </div>
                <div class="meta-row">
                  <span class="meta-label">Length Label</span>
                  <span id="lengthLabel">—</span>
                </div>
              </div>
            </section>
          </div>

        </div>
      </form>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="admin-create.js"></script>
</body>
</html>
